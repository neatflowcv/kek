# ADR-002: REST API 프레임워크로 Litestar 선택

## 상태

승인됨

## 컨텍스트

번역 서비스를 REST API로 제공하기 위해 Python 웹 프레임워크가 필요하다.

프로젝트 규칙:

- 글로벌 변수 사용 금지
- 명시적 의존성 주입(DI) 선호
- ASGI 지원 필요

## 결정

**Litestar**를 REST API 프레임워크로 선택한다.

### 선택 이유

1. **글로벌 변수 없이 구현 가능**
   - `create_app()` 팩토리 패턴 공식 지원
   - 모든 상태를 함수 내부 로컬 변수로 관리

2. **명시적 계층형 DI**
   - `Provide()`로 앱/라우터/핸들러 레벨 DI
   - 의존성이 함수 시그니처에 명확히 드러남

3. **현대적 설계**
   - ASGI 네이티브
   - OpenAPI 자동 생성
   - Production 안정성

### 비교 대상

| 프레임워크 | DI 방식 | 글로벌 회피 | 비고 |
|-----------|---------|------------|------|
| **Litestar** | `Provide()` 계층형 | 팩토리 패턴 | 선택 |
| FastAPI | `Depends()` | 글로벌 일반적 | 커뮤니티 큼 |
| BlackSheep | 타입 기반 자동 | 팩토리 패턴 | 문서 부족 |
| Falcon | 수동 | 생성자 DI | DI 미내장 |

## 결과

### 장점

- 프로젝트 규칙(글로벌 변수 금지)과 완벽히 호환
- 테스트 용이 (DI로 mock 주입)
- 명확한 의존성 흐름

### 단점

- FastAPI 대비 작은 커뮤니티
- 학습 자료 상대적으로 적음

## 참고

- [프레임워크 비교 문서](../rest-api-frameworks.md)
- [Litestar 공식 문서](https://docs.litestar.dev/)
